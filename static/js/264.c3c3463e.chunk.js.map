{"version":3,"file":"static/js/264.c3c3463e.chunk.js","mappings":"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","sources":["api/api.js","components/MovieCard/MovieCard.styled.jsx","components/MovieCard/MovieCard.jsx","components/BackLink/BackLink.styled.jsx","components/BackLink/BackLink.jsx","pages/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'http://api.themoviedb.org/3';\naxios.defaults.params = { api_key: '687f60735406ee0172c31461de2476ff' };\n\nexport const getTrending = async signal => {\n  const response = await axios.get(`/trending/movie/day`, {\n    signal,\n  });\n  return response.data;\n};\n\nexport const searchMovie = async (query, signal) => {\n  const response = await axios.get(`/search/movie?query=${query}`, {\n    signal,\n  });\n  return response.data;\n};\n\nexport const getMovieDetails = async (movieId, signal) => {\n  const response = await axios.get(`/movie/${movieId}`, {\n    signal,\n  });\n  return response.data;\n};\n\nexport const getMovieCredits = async (movieId, signal) => {\n  const response = await axios.get(`/movie/${movieId}/credits`, {\n    signal,\n  });\n  return response.data;\n};\n\nexport const getMovieReviews = async (movieId, signal) => {\n  const response = await axios.get(`/movie/${movieId}/reviews`, {\n    signal,\n  });\n  return response.data;\n};\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const Wrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-bottom: 40px;\n  gap: 60px;\n  text-align: left;\n`;\n\nexport const Thumb = styled.div`\n  border-radius: 5px;\n  overflow: hidden;\n  width: 400px;\n  height: 550px;\n`;\n\nexport const InfoWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  width: 500px;\n`;\n\nexport const Link = styled(NavLink)`\n  color: black;\n  font-weight: 500;\n  &.active {\n    color: orangered;\n  }\n`;\n\nexport const Score = styled.span`\n  display: inline-block;\n  padding: 2px;\n  color: white;\n  background-color: orangered;\n  border-radius: 5px;\n`;\n","import { Wrapper, Thumb, InfoWrapper, Link, Score } from './MovieCard.styled';\nimport PropTypes from 'prop-types';\n\nexport const MovieCard = ({\n  movie: {\n    poster_path,\n    original_title,\n    vote_average,\n    overview,\n    genres,\n    release_date,\n  },\n}) => (\n  <Wrapper>\n    <Thumb>\n      <img\n        src={\n          poster_path\n            ? `https://image.tmdb.org/t/p/w500${poster_path}`\n            : `https://via.placeholder.com/400x550.png?text=${original_title}`\n        }\n        alt={original_title}\n      />\n    </Thumb>\n    <InfoWrapper>\n      <h2>\n        {original_title} ({release_date.slice(0, 4)})\n      </h2>\n      <p>\n        User Score: <Score>{(vote_average * 10).toFixed()}%</Score>\n      </p>\n      <h3>Overview</h3>\n      <p>{overview}</p>\n      <h3>Genres</h3>\n      <p>{genres.map(gener => `${gener.name}, `)}</p>\n      <h3>Additional information</h3>\n      <ul>\n        <li>\n          <Link to=\"cast\">Cast</Link>\n        </li>\n        <li>\n          <Link to=\"reviews\">Reviews</Link>\n        </li>\n      </ul>\n    </InfoWrapper>\n  </Wrapper>\n);\n\nMovieCard.propTypes = {\n  movie: PropTypes.shape({\n    poster_path: PropTypes.string,\n    original_title: PropTypes.string,\n    vote_average: PropTypes.number,\n    overview: PropTypes.string,\n    genres: PropTypes.array,\n    release_date: PropTypes.string,\n  }),\n};\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const StyledLink = styled(Link)`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  padding: 8px 0;\n  margin-bottom: 30px;\n  color: black;\n  text-decoration: none;\n  font-weight: 500;\n  :hover {\n    color: orangered;\n  }\n`;\n","import { HiChevronLeft } from 'react-icons/hi';\nimport { StyledLink } from './BackLink.styled';\nimport PropTypes from 'prop-types';\n\nexport const BackLink = ({ to, children }) => {\n  return (\n    <StyledLink to={to}>\n      <HiChevronLeft size=\"24\" />\n      {children}\n    </StyledLink>\n  );\n};\n\nBackLink.propTypes = {\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  children: PropTypes.node,\n};\n","import { useState, useEffect, useRef, Suspense } from 'react';\nimport { useParams, Outlet, useLocation } from 'react-router-dom';\nimport { getMovieDetails } from 'api/api';\nimport { MovieCard } from 'components/MovieCard/MovieCard';\nimport { BackLink } from 'components/BackLink/BackLink';\nimport toast, { Toaster } from 'react-hot-toast';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  const location = useLocation();\n  const ref = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    const controller = new AbortController();\n    const signal = controller.signal;\n    const fetchData = async () => {\n      try {\n        const movieDetails = await getMovieDetails(movieId, signal);\n        setMovie(movieDetails);\n      } catch (error) {\n        if (error.name === 'CanceledError') return;\n        toast.error('Oops, something went wrong');\n      }\n    };\n\n    fetchData();\n\n    return () => {\n      controller.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <main>\n      <Toaster position=\"top-right\" reverseOrder={false} />\n      <BackLink to={ref.current}>Go Back</BackLink>\n      {movie && <MovieCard movie={movie} />}\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </main>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["axios","api_key","getTrending","signal","response","data","searchMovie","query","getMovieDetails","movieId","getMovieCredits","getMovieReviews","Wrapper","styled","Thumb","InfoWrapper","Link","NavLink","Score","MovieCard","movie","poster_path","original_title","vote_average","overview","genres","release_date","src","alt","slice","toFixed","map","gener","name","to","StyledLink","BackLink","children","size","useParams","useState","setMovie","location","useLocation","ref","useRef","state","from","useEffect","controller","AbortController","fetchData","movieDetails","toast","abort","position","reverseOrder","current","Suspense","fallback"],"sourceRoot":""}